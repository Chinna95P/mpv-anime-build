# vim: syntax=config

###########
#  Mouse  #
###########
MOUSE_BTN0     	    cycle pause
MOUSE_BTN0_DBL 	    cycle fullscreen
MOUSE_BTN3	    ignore
MOUSE_BTN4	    ignore
MOUSE_BTN5 	    add chapter -1
MOUSE_BTN6 	    add chapter +1

###########
# Nav Keys #
###########
RIGHT       osd-msg-bar seek +5  relative+keyframes
LEFT        osd-msg-bar seek -5  relative+keyframes
SHIFT+RIGHT osd-msg-bar seek +1  relative+exact
SHIFT+LEFT  osd-msg-bar seek -1  relative+exact
CTRL+RIGHT  frame-step ; show-text "Frame: ${estimated-frame-number} / ${estimated-frame-count}"
CTRL+LEFT   frame-back-step ; show-text "Frame: ${estimated-frame-number} / ${estimated-frame-count}"

UP	   add volume +1 ; show-text "Volume: ${volume}"
DOWN       add volume -1 ; show-text "Volume: ${volume}"
SHIFT+UP   osd-msg-bar seek +120 relative+keyframes
SHIFT+DOWN osd-msg-bar seek -120 relative+keyframes
CTRL+UP    add sub-pos -1 # move subtitles up
CTRL+DOWN  add sub-pos +1 # down


ALT+RIGHT  sub-seek +1 ; show-text "Sub Seek +1"
ALT+LEFT   sub-seek -1 ; show-text "Sub Seek -1"

# Sync Keys
[          add sub-delay -0.1 ; show-text "Sub Delay: ${sub-delay}"
]          add sub-delay +0.1 ; show-text "Sub Delay: ${sub-delay}"
{          add audio-delay -0.1 ; show-text "Audio Delay: ${audio-delay}"
}          add audio-delay +0.1 ; show-text "Audio Delay: ${audio-delay}"

##############
# Quality Keys  #
##############
1      add contrast -1 ; show-text "Contrast: ${contrast}"
2      add contrast +1 ; show-text "Contrast: ${contrast}"
3      add brightness -1 ; show-text "Brightness: ${brightness}"
4      add brightness +1 ; show-text "Brightness: ${brightness}"
5      add gamma -1 ; show-text "Gamma: ${gamma}"
6      add gamma +1 ; show-text "Gamma: ${gamma}"
7      add saturation -1 ; show-text "Saturation: ${saturation}"
8      add saturation +1 ; show-text "Saturation: ${saturation}"

9      add volume -2 ; show-text "Volume: ${volume}"
0      add volume +2 ; show-text "Volume: ${volume}"
-      add chapter -1 ; show-text "${?chapter:Chapter: ${chapter}}"
=      add chapter +1 ; show-text "${?chapter:Chapter: ${chapter}}"
!      cycle ontop

########################################
###        Anime4K (Lua-driven)       ###
########################################

CTRL+1 script-message anime4k-mode A
CTRL+2 script-message anime4k-mode B
CTRL+3 script-message anime4k-mode C
CTRL+4 script-message anime4k-mode AA
CTRL+5 script-message anime4k-mode BB
CTRL+6 script-message anime4k-mode CA

# FIX: Removed '; show-text' so the Script OSD shows colors instead
L      script-binding toggle-anime4k-quality

########################################

CTRL+- no-osd change-list glsl-shaders clr ""; show-text "GLSL shaders cleared"

########################################
# Anime Mode â€“ Explicit Switches
########################################

# FIX: Removed '; show-text ...' from these lines. 
# The Lua script now fully controls the OSD with colors.

# AUTO mode (folder + filename based)
CTRL+l  script-binding anime-mode-auto 

# FORCED ON (always anime-shaders)
CTRL+;  script-binding anime-mode-on   

# FORCED OFF (always High-Quality)
CTRL+'  script-binding anime-mode-off  

# SD / HD toggles
CTRL+q script-message toggle-hq-sd
Q      script-message toggle-hq-hd-nnedi

# Show current profile info
K script-binding show-profile-info



##############
# Audio Keys #
##############
a      cycle audio
# 7.1 Upmix Toggle with 80Hz LFE Boost for Desktop Subwoofers
m      cycle-values af "lavfi=[surround=chl_out=7.1:lfe_low=80]" "" ; show-text "7.1 Upmix (Enhanced Bass)"
A      cycle-values af "lavfi=[dynaudnorm=f=200:g=5:r=0.1]" "" 
CTRL+a script-binding auto_audio_device/toggle-switching               

##############
# Playback   #
##############
q      script-binding auto_save_state/quit-watch-later-conditional
w      script-message osc-playlist
e      playlist-prev ; show-text "Prev File: ${playlist-pos-1}/${playlist-count}"
r      playlist-next ; show-text "Next File: ${playlist-pos-1}/${playlist-count}"
t      cycle-values sub-use-margins "yes" "no"
T      cycle-values ass-force-margins "yes" "no"
CTRL+t cycle-values blend-subtitles "yes" "video" "no"
y      cycle-values stretch-image-subs-to-screen "yes" "no"

i      script-binding stats/display-stats
I      script-binding stats/display-stats-toggle
k      show-text "Audio Filters: ${af}\nVideo Filters: ${vf}\nShaders: ${glsl-shaders}"
o      cycle-values osd-level 3 1
p      cycle-values video-rotate 90 180 270 0
P      cycle-values video-aspect-override "16:9" "4:3" "2.35:1" "16:10" "-1"

s      cycle sub                                                       
S      cycle sub-visibility
CTRL+s cycle secondary-sid

f      cycle fullscreen
g      cycle-values video-sync display-resample audio ; cycle-values interpolation yes no ; show-text "Interpolation: ${interpolation}"
G      cycle-values tscale "linear" "catmull_rom" "mitchell" "bicubic" "oversample" ; show-text "Interpolation: ${interpolation} (${tscale})"

h      cycle deinterlace
# Press 'H' to toggle extremely fast HDR processing
H      cycle-values tone-mapping "clip" "mobius" ; cycle-values hwdec "d3d11va" "nvdec-copy" ; show-text "HDR Mode Switched"
j      cycle deband
u      cycle-values hwdec "nvdec-copy" "no" ; show-text "HW Decoder: ${hwdec}"

z      script-binding betterchapters/chapterplaylist-next
Z      script-binding betterchapters/chapterplaylist-prev